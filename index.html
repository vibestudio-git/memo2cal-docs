<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Memo2Cal Docs</title>
  <style>
    :root { color-scheme: light dark; }
    body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Malgun Gothic", "맑은 고딕", sans-serif; margin:0; }
    .wrap { max-width: 880px; margin: 0 auto; padding: 24px; }
    h1 { margin: 0 0 8px; }
    p { margin: 8px 0 16px; color: #6b7280; }
    .row { display: grid; gap: 12px; grid-template-columns: 1fr; }
    a.card { display: block; padding: 14px 18px; border-radius: 10px; border: 1px solid #e5e7eb; background: #fff; color: #111827; text-decoration: none; }
    a.card:hover { border-color: #2563eb; }
    .lang { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-bottom:12px; }
    .btn { border:1px solid #d1d5db; background:#fff; color:#374151; padding:6px 10px; border-radius:6px; cursor:pointer; }
    .btn[aria-current="true"] { background:#111827; color:#fff; border-color:#111827; }
    @media (prefers-color-scheme: dark) {
      a.card { background:#0b0f17; border-color:#1f2937; color:#e5e7eb; }
      a.card:hover { border-color:#2563eb; }
      .btn { background:#111827; color:#f3f4f6; border-color:#374151; }
      .btn[aria-current="true"] { background:#2563eb; border-color:#2563eb; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="lang">
      <span id="label-lang">Language</span>
      <button id="btn-en" class="btn" type="button" aria-current="false">English</button>
      <button id="btn-ko" class="btn" type="button" aria-current="false">한국어</button>
    </div>
    <h1 id="title">Memo2Cal Documentation</h1>
    <p id="subtitle">Quick links to public documents.</p>
    <div class="row">
      <a id="link-manual" class="card" href="./user-manual.html">User Manual (KO/EN)</a>
      <a id="link-faq" class="card" href="./faq.html">FAQ (KO/EN)</a>
      <a id="link-policy" class="card" href="./privacy-policy.html">Privacy Policy (KO/EN)</a>
    </div>
  </div>
  <script>
    (function(){
      const $en = document.getElementById('btn-en');
      const $ko = document.getElementById('btn-ko');
      const $label = document.getElementById('label-lang');
      const $title = document.getElementById('title');
      const $subtitle = document.getElementById('subtitle');
      const $manual = document.getElementById('link-manual');
      const $faq = document.getElementById('link-faq');
      const $policy = document.getElementById('link-policy');

      function setLang(lang){
        const isKo = lang === 'ko';
        document.documentElement.lang = isKo ? 'ko' : 'en';
        $ko.setAttribute('aria-current', String(isKo));
        $en.setAttribute('aria-current', String(!isKo));
        const url = new URL(window.location.href); url.searchParams.set('lang', isKo ? 'ko' : 'en'); history.replaceState({}, '', url.toString());
        if(isKo){
          $label.textContent = '언어';
          $title.textContent = 'Memo2Cal 공식 문서';
          $subtitle.textContent = '공개 문서 바로가기 링크입니다.';
          $manual.textContent = '사용자 매뉴얼 (KO/EN)';
          $faq.textContent = '자주 묻는 질문 (KO/EN)';
          $policy.textContent = '개인정보처리방침 (KO/EN)';
        }else{
          $label.textContent = 'Language';
          $title.textContent = 'Memo2Cal Documentation';
          $subtitle.textContent = 'Quick links to public documents.';
          $manual.textContent = 'User Manual (KO/EN)';
          $faq.textContent = 'FAQ (KO/EN)';
          $policy.textContent = 'Privacy Policy (KO/EN)';
        }
      }

      function detect(){
        const url = new URL(window.location.href);
        const q = (url.searchParams.get('lang')||'').toLowerCase();
        if(q==='ko'||q==='en') return q;
        return (navigator.language||'en').toLowerCase().startsWith('ko') ? 'ko' : 'en';
      }

      document.getElementById('btn-en').addEventListener('click', ()=>setLang('en'));
      document.getElementById('btn-ko').addEventListener('click', ()=>setLang('ko'));
      setLang(detect());
    })();
  </script>
</body>
</html>
